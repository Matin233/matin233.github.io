<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>介绍 | HiDoc</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.0e123b58.css" as="style"><link rel="preload" href="/assets/js/app.fe03ab5e.js" as="script"><link rel="preload" href="/assets/js/2.1f5ff3fb.js" as="script"><link rel="preload" href="/assets/js/40.19f07b7b.js" as="script"><link rel="prefetch" href="/assets/js/10.9768c84c.js"><link rel="prefetch" href="/assets/js/11.a026e0a2.js"><link rel="prefetch" href="/assets/js/12.dabf57c8.js"><link rel="prefetch" href="/assets/js/13.c77aa622.js"><link rel="prefetch" href="/assets/js/14.280e0fc5.js"><link rel="prefetch" href="/assets/js/15.0e1e201b.js"><link rel="prefetch" href="/assets/js/16.a396a055.js"><link rel="prefetch" href="/assets/js/17.b7d94a0d.js"><link rel="prefetch" href="/assets/js/18.1fcf8e89.js"><link rel="prefetch" href="/assets/js/19.70c96dc8.js"><link rel="prefetch" href="/assets/js/20.57a7fb21.js"><link rel="prefetch" href="/assets/js/21.b4eb4bc0.js"><link rel="prefetch" href="/assets/js/22.35179f79.js"><link rel="prefetch" href="/assets/js/23.576e6489.js"><link rel="prefetch" href="/assets/js/24.9dd3f0ff.js"><link rel="prefetch" href="/assets/js/25.0cf8dc8f.js"><link rel="prefetch" href="/assets/js/26.afc031d5.js"><link rel="prefetch" href="/assets/js/27.429d522c.js"><link rel="prefetch" href="/assets/js/28.6486f2ff.js"><link rel="prefetch" href="/assets/js/29.86dde356.js"><link rel="prefetch" href="/assets/js/3.c3ea9630.js"><link rel="prefetch" href="/assets/js/30.db155db7.js"><link rel="prefetch" href="/assets/js/31.000152f7.js"><link rel="prefetch" href="/assets/js/32.e62c80dc.js"><link rel="prefetch" href="/assets/js/33.b844c11a.js"><link rel="prefetch" href="/assets/js/34.6835e5f5.js"><link rel="prefetch" href="/assets/js/35.6327d166.js"><link rel="prefetch" href="/assets/js/36.aed4243f.js"><link rel="prefetch" href="/assets/js/37.643994a2.js"><link rel="prefetch" href="/assets/js/38.e008e751.js"><link rel="prefetch" href="/assets/js/39.e28e6619.js"><link rel="prefetch" href="/assets/js/4.d6136eb3.js"><link rel="prefetch" href="/assets/js/41.30210dbb.js"><link rel="prefetch" href="/assets/js/5.df510ea4.js"><link rel="prefetch" href="/assets/js/6.50a4a862.js"><link rel="prefetch" href="/assets/js/7.a4dc71d5.js"><link rel="prefetch" href="/assets/js/8.05521ae8.js"><link rel="prefetch" href="/assets/js/9.32319f64.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0e123b58.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">HiDoc</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/vue3-deep-dive/intro" class="sidebar-heading clickable open active"><span>Vue3 Deep Dive</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue3-deep-dive/intro.html" aria-current="page" class="active sidebar-link">介绍</a></li><li><a href="/vue3-deep-dive/rendering-mechanism.html" class="sidebar-link">渲染机制</a></li><li><a href="/vue3-deep-dive/use-render-function.html" class="sidebar-link">使用渲染函数</a></li><li><a href="/vue3-deep-dive/compiler-and-renderer-api.html" class="sidebar-link">编译器和渲染器 API</a></li><li><a href="/vue3-deep-dive/creating-a-mount-function.html" class="sidebar-link">创建 Mount 函数</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="介绍"><a href="#介绍" class="header-anchor">#</a> 介绍</h1> <p>Vue 基于我们的模板创建一个渲染函数，返回一个虚拟 DOM 节点。</p> <p>虚拟 DOM 使用简化的 JavaScript 对象来表示 DOM 结构，比操作实际 DOM 效率更高。</p> <p>当组件更改时，render 函数将重新运行，它将创建另一个虚拟节点。然后发送旧的 VNode 和新的 VNode 到 Vue 中进行比较，并以最高效的方式在我们的网页上更新。</p> <p>我们可以将虚拟 DOM 和实际 DOM 的关系类比为蓝图和实际建筑的关系。</p> <p>假设我更改了 29 楼的一些数据。我改变了家具的布局，还加了一些橱柜。我有两种方法可以改变。</p> <p>首先，我可以拆除 29 楼的一切，从头开始重建。或者我可以创造新的蓝图，比较新旧蓝图。并进行更新以尽可能减少工作量。</p> <p>这就是虚拟 DOM 的工作原理。Vue 3 让这些更新更快，并且更高效。</p> <p>Vue 有三个核心模块：</p> <ul><li>响应式模块</li> <li>编译器模块</li> <li>渲染模块</li></ul> <p>响应式模块允许我们创建 JavaScript 响应对象并可以观察其变化。当使用这些对象的代码运行时，它们会被跟踪。因此，如果响应对象发生变化，它们可以在以后运行。</p> <p>接下来是编译器模块。它知道如何获取 HTML 模板并将它们编译成渲染函数。这可能在运行时在浏览器中发生，但在构建 Vue 项目时更常见。这样浏览器就可以只接收渲染函数。</p> <p>最后，渲染模块的代码包含在网页上渲染组件的三个不同阶段。</p> <ul><li>渲染阶段：调用 render 函数。它返回一个虚拟 DOM 节点</li> <li>挂载阶段：使用虚拟 DOM 节点并调用 DOM API 来创建网页</li> <li>补丁阶段：渲染器将旧的虚拟节点和新的虚拟节点进行比较并只更新网页变化的部分</li></ul> <p>现在让我们来看一个例子，看看一个简单组件的执行。</p> <p>在这里你可以看到我的简单组件，它有一个模板，以及在模板内部使用的响应对象。</p> <p>首先，模板编译器将 HTML 转换为一个渲染函数。然后初始化响应对象使用响应式模块。</p> <p>接下来，在渲染模块中，我们进入渲染阶段。</p> <p>这将调用 render 函数，它引用了响应对象。我们现在观察这个响应对象的变化，render 函数返回一个虚拟 DOM 节点。接下来，在挂载阶段，调用 mount 函数。使用虚拟 DOM 节点创建 web 页面。</p> <p>最后，如果我们的响应对象发生任何变化，正在被监视，渲染器再次调用 render 函数，创建一个新的虚拟 DOM 节点。</p> <p>新的和旧的虚拟 DOM 节点发送到补丁函数中，然后根据需要更新我们的网页。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/vue3-deep-dive/rendering-mechanism.html">
        渲染机制
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.fe03ab5e.js" defer></script><script src="/assets/js/2.1f5ff3fb.js" defer></script><script src="/assets/js/40.19f07b7b.js" defer></script>
  </body>
</html>
